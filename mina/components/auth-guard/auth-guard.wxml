<!--components/auth-guard/auth-guard.wxml-->
<view class="auth-guard-modern">
  <!-- 检查中状态 -->
  <view wx:if="{{checking}}" class="auth-checking-modern glass-card">
    <view class="loading-spinner-modern animate-spin-modern"></view>
    <text class="loading-text-modern">检查登录状态...</text>
  </view>

  <!-- 已认证状态 - 显示内容 -->
  <view wx:elif="{{authenticated}}" class="auth-content-modern">
    <slot></slot>
  </view>

  <!-- 未认证状态 - 显示登录提示 -->
  <view wx:else class="auth-login-prompt-modern">
    <view class="prompt-container-modern glass-card">
      <view class="prompt-icon-modern">🔐</view>
      <view class="prompt-title-modern">需要登录</view>
      <view class="prompt-text-modern">{{loginText}}</view>
      <button 
        class="login-btn-modern gradient-btn"
        bindtap="onLoginTap"
      >
        立即登录
      </button>
    </view>
  </view>
</view>